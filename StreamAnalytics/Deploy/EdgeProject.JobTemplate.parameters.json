{
  "JobName": {
    "value": "edge-sa-0f50083f"
  },
  "StorageAccountName": {
    "value": "edgeasaedgesa0f50083"
  },
  "Query": {
    "value": "WITH\r\nAggregate AS\r\n(\r\n    SELECT\r\n        COUNT(*),\r\n        AVG(machine.temperature),\r\n        MAX(machine.temperature),\r\n        MIN(machine.temperature),\r\n        STDEV(machine.temperature),\r\n        VAR(machine.temperature)\r\n    FROM\r\n        sensorinput TIMESTAMP BY timeCreated\r\n    GROUP BY TumblingWindow(minute, 3)\r\n),\r\nAnalytics AS\r\n(\r\n    SELECT\r\n        LAG(machine.temperature) OVER (LIMIT DURATION(minute, 3)),\r\n        LAST(machine.temperature) OVER (LIMIT DURATION(minute, 3)),\r\n        AnomalyDetection_SpikeAndDip(machine.temperature, 80, 120, 'spikesanddips') OVER(LIMIT DURATION(minute, 3))\r\n    FROM sensorinput TIMESTAMP BY timeCreated\r\n)\r\n\r\nSELECT\r\n    *\r\nINTO\r\n    telemetryoutput\r\nFROM\r\n    Aggregate\r\nJOIN\r\n    Analytics\r\nON\r\n    DATEDIFF(second, Aggregate, Analytics) BETWEEN 0 AND 60\r\n"
  }
}
